## Сборка MODX для быстрого начала работы (v2.7.1)

### Установка

Это бэкап сборки. Установка стандартным способом переноса сайта на modx:

- Распаковываем архив
- Делаем импорт бд из `tmp_db.sql`
- Правим пути и имя бд в конфигах
- Накатываем установку поверх

Логин: admin  
Пароль: 12345qwer

### Установленные пакеты и их настройки

#### translitor

*Компонент для транслитерации псевдонимов (url)*

#### Ace

*Редактор кода, поддерживает Emmet*

#### TinyMceRTE

*Редактор контента*

Добавлен файл настроек в `assets/components/tinymcerte/external-config.json`.
Включены плагины выбора цвета текста и цвета фона текста.

#### ControlErrorLog

*Быстрый просмотр журнала ошибок*

#### debugParser

*Отладка - можно [почитать тут](https://modstore.pro/packages/utilities/debugparser)*

#### Console

*Консоль для выполнения php кода*

#### pdoTools

*Набор сниппетов для работы с ресурсами и пользователями*

#### pThumb

*Ресайзер изображений*

#### sdStore

*Добавляет поставщика пакетов modstore.pro*

#### Units

*Добавляет окончание к числительным `{$number | units : '||'}`*

#### UpgradeMODX

*Компонент для обновления MODX*

#### modSizeControl

*Контроль за размером сайта*

Установлен лимит в 1000 Мб

#### MIGX

*Мульти ТВ, документация [тут](https://docs.modx.com/extras/revo/migx)*

Встроены 2 конфигурации default и gallery

### Настройки системы

- Настроены дружественные url
- Cтраница 404, sitemap.xml, robots.txt созданы в админке.
- В типах содержимого вместо `.html` ничего
- Настроен источник файлов по умолчанию `manager` ведет в `assets/userfiles/`

### Права доступа

Создана политика доступа `manager` и создан пользователь `manager` - файл настроек политики лежит в `core/helpers/`  
Достаточно просто поменять пароль для менеджера и можно отдавать доступы  

**Если создаете ИМ на miniShop2 надо будет добавить еще доступ к контексту mgr с политикой miniShopManagerPolicy**

### Поиск по сайту

В разделе *Служебные страницы* создана страница **Поиск по сайту**  
Прямо в странице прописан сниппет поиска по документам сайта. Достаточно отправить на эту страницу GET запрос *query*

### Сниппеты

#### Ajax

*Сниппет для обработки ajax запросов*  

Уже написан обработчик для отправки форм

#### changePrefix

*Смена префиксов таблиц через Console*  

После смены префиксов не забудьте изменить префикс в `core.config.php` и повторно запустить установку MODX для обновления

#### dateRU

*Перевод месяца в русский , используется как модификатор, например `{$publishedon | date:'m' | dateRU}`*

#### phone

*Вырезает все символы из телефона кроме `[0-9+]`*  

Пример использования: `{7 | resource: 'phone' | phone}`

#### mmsp

*Возвращает путь к источнику файлов manager от корня*

### Плагины

#### addHelpersAndStyles

*Добавляет пользовательские функции, вроде dd(), и стили для админки, OnManagerPageInit*

### Дополнительные поля

Созданы доп поля для контактных данных, присвоены шаблону ***Контакты***, который в свою очередь привязан к 
документу ***Контакты***.  
Создано поле изображение, привязано к источнику файлов по умолчанию *manager*.  
Создан слайдер для главной страницы с помощью MIGX  
Созданы поля `code_body` и `code_head` для вставки кода из полей админки
